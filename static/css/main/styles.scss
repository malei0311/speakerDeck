@import "../src/normalize";
@import "../src/prettify_desert";
@import "compass/css3";

$baseFontSize: 16px !default;
$slidesNum: 10;
$slidesContainerWidth: $slidesNum * 100%;
$slidesItemWidth: 1 / $slidesNum * 100%;

@function pxTorem($px) {
  @return $px / $baseFontSize * 1rem;
}

html,body {
  font-size: $baseFontSize;
  font-family: Helvetica,Tahoma,'\5fae\8f6f\96c5\9ed1','\5b8b\4f53',Arial,sans-serif; // unicode 为 微软雅黑  和  宋体
  line-height: 1.4;
  height: 100%;
  width: 100%;
  overflow: hidden;
}

.pseudo-slides {
  font-family: sans-serif;
  font-size: pxTorem(30px);
  font-weight: 200;
  color: #eee;
  text-align: center;
  height: 100%;
  position: relative;
  overflow: hidden;
  counter-reset: slides;

  &::after {
    content: counter(slides)'/';
    position: absolute;
    bottom: pxTorem(24px);
    right: pxTorem(54px);
  }

  > input[type="radio"] {
    // opacity: 0;
    // position: absolute;
    // top: pxTorem(-999px);
    position: relative;
    z-index: -1;
  }

  h1,h2,h3,h4 {
    margin: 0 0 pxTorem(20px) 0;
    color: #eee;
    font-family: Impact, sans-serif;
    line-height: 1.2;
    text-transform: none;
    @include text-shadow(none);
  }

  img {
    max-width: 100%;
  }

  pre {
    text-align: left;
  }

  a {
    color: #343838;
    &:hover {
      text-decoration: none;
    }
  }

  .pseudo-slides-container {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    @include transform(translate3d(0,0,0));
    @include transition(transform 800ms cubic-bezier(0.77, 0, 0.175, 1));
    width: $slidesContainerWidth;
  }

  .pseudo-slides-item {
    position: relative;
    float: left;
    height: 100%;
    width: $slidesItemWidth;
    text-align: left;
    vertical-align: top;
    background: #2c3e50;
    counter-increment: slides;

    &:nth-of-type(2n) {
      background: #27ae60;
    }

    &:nth-of-type(3n) {
      background: #c0392b;
    }

    &::after {
      content: counter(slides);
      position: absolute;
      bottom: pxTorem(24px);
      right: pxTorem(24px);
    }
  }

  .pseudo-slides-item-content {
    position: absolute;
    top: 50%;
    left: 50%;
    max-height: 90%;
    max-width: 80%;
    min-width: 80%;
    padding: pxTorem(16px);
    text-align: center;
    @include transform(translate3d(-50%, -50%, 0));
    @include box-sizing(border-box);

    ul {
      text-align: left;
      display: inline-block;
    }
  }

  .pseudo-slides-ctrl {
    label {
      width: 10%;
      font-size: pxTorem(60px);
      line-height: pxTorem(50px);
      text-align: left;
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      cursor: pointer;
      opacity: 0.1;
      @include transition(opacity .5s ease);
      vertical-align: middle;
      z-index: -1;

      &:hover {
        opacity: 0.9;
      }

      &::after {
        content: "\21E6";
        position: absolute;
        top: 50%;
        right: pxTorem(24px);
        @include text-shadow(0.1rem 0.1rem 0.2rem rgba(0, 0, 0, 0.5));
        @include transform(translate3d(0, -50%, 0));
      }
    }
  }
  .pseudo-slides-progress {
    position: absolute;
    bottom: 0;
    text-align: center;
    left: 0;
    right: 0;
    padding: 0;
    font-size: 0;
    height: pxTorem(5px);
    background: #bdc3c7;
    @include transition(width .5s ease);
  }


  @for $i from 1 through $slidesNum {
    #pseudo-slides#{$i}:checked ~ .pseudo-slides-container {
      @include transform(translate3d(#{($slidesItemWidth * ($i - 1) * -1)}, 0, 0));
    }
    #pseudo-slides#{$i}:checked ~ .pseudo-slides-progress {
      width: $slidesItemWidth * $i;
    }
    #pseudo-slides#{$i}:checked ~ .pseudo-slides-ctrl label:nth-child(#{$i + 1}) {
      left: auto;
      right: 0;
      z-index: 1;
      text-align: right;

      &::after {
        content: "\21E8";
      }
    }
    #pseudo-slides#{$i}:checked ~ .pseudo-slides-ctrl label:nth-child(#{$i - 1}) {
      display: block;
      z-index: 1;

      &::after {
        right: auto;
        left: pxTorem(24px);
      }
    }
  }

}